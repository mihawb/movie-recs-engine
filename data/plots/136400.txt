Robert "Bobby" Trench (Washington) and Michael "Stig" Stigman (Wahlberg) are questioned by the US Border Patrol after meeting with drug lord Manny "Papi" Greco (Edward James Olmos) in Mexico. Unknown to Stig, Bobby is undercover DEA agent Trench who reports to his superior, Jessup (Robert John Burke), that he didn't get the cocaine from Papi they need to convict him.Against orders, Bobby remains undercover to assist Stig in robbing $3 million - in a bank vault in Tres Cruces, Texas - to prosecute Papi for money laundering. Bobby then meets with fellow DEA agent and ex, Deb Rees (Paula Patton), while Stig, an undercover Navy SEAL with ONI, meets with his commanding officer, LCDR Harold Quince (James Marsden), and is told to kill Bobby so they can fund covert operations.Bobby and Stig are surprised to find $43.125 million and not $3 million. Stig follows orders to betray Bobby and escape with the money, pulling his gun as Bobby is about to pull his. Stig wounds Bobby in the upper arm rather than kill him, and then sees Bobby's DEA badge. Unsure what to think, Stig leaves him in the desert.After debriefing, Quince orders his death. Stig escapes after learning the money will go to a Navy base in Corpus Christi. Meanwhile, a man named Earl (Bill Paxton) aggressively interrogates the bank manager about the stolen money and the vet who treated Bobby's wound.Bobby goes to Stig's to find the money, only to have him contact him from a sniper's post across the street. A hit squad sent by Quince attacks the apartment but Bobby and Stig escape. Bobby tries to tell Jessup what happened, but Earl and his men are already there. Earl kills Jessup, frames Bobby and lets him go, agreeing to clear his name if he recovers the $43 million.Bobby and Stig kidnap Papi, interrogating him in Deb's garage. Earl is a black ops operative Papi reports to, and the money they stole was the CIA's payments. The agency has forced Papi, and other cartels, to pay a 7% cut in exchange for using CIA planes to smuggle product across the border. The garage is attacked by Quince's hit squad. Bobby, Stig, and Deb escape, as does Papi, who calls his crew. All three are captured by Papi, and taken to his farm in Mexico. After a beating and a visit from Earl, Papi gives the men 24 hours to return the money, or Deb will die.At the base, Bobby infiltrates Quince's office, discovering he is Deb's boyfriend, and they had planned to steal the money for themselves. Meanwhile, Stig asks Admiral Tuwey (Fred Ward) for help. Tuwey orders Quince's arrest, but disavows Stig to protect the Navy's reputation. Both Quince and Stig evade arrest. Unable to find the money in time, Papi kills Deb. Bobby later realizes the money is in a motel room he and Deb had frequented and goes to help Stig, who had returned to Papi's farm for vengeance.There, Stig is surrounded by Papi's men, then both Quince and Earl intervene. Bobby arrives in a car filled with money, blows it up, scattering the money everywhere, leading to a massive shootout. During a standoff, Earl reveals that the CIA has 20 other secret banks, and the loss of the $43.125 million is only a minor setback. Signaling Stig with a phrase from an earlier conversation, Stig shoots Earl, and Bobby shoots Quince. Bobby and Stig kill Papi and the duo escape, but first Bobby shoots Stig in the leg as payback for shooting him in the desert. While planning to continue to take down the CIA's secret banks and sabotage their black operations, Bobby reveals to Stig that he did not blow up all the money and had some stashed away.